<script src="{{ STATIC_URL }}/static/js/free-text.js" ></script>
{#<script src="{{ STATIC_URL }}/static/js/manual_form.js" xmlns="http://www.w3.org/1999/html"></script>#}



<div class="free-text">
               <div class="row">
                    <div class="form-group col-md-4 col-xs-4">
                         <label class="required">Patient Age(at presentation):</label>
                        <div class="input-group">
                              <span class="input-group-btn">
                                  <button type="button" class="btn btn-default btn-number" data-type="minus" data-field="age-field">
                                      <span class="glyphicon glyphicon-minus"></span>
                                  </button>
                              </span>
                              <input type="text" name="age-field" id="age-field" class="form-control input-number" onkeypress="return isNumberKey(event)" value="25" min="1" max="100" >
                              <span class="input-group-btn">
                                  <button type="button" class="btn btn-default btn-number" data-type="plus" data-field="age-field">
                                      <span class="glyphicon glyphicon-plus"></span>
                                  </button>
                              </span>
                         </div>
                             <div class="agefield-message">
                             <p>This field is required.</p>
                            </div>
                    </div>
                    <div class="form-group col-md-4 col-xs-4">
                      <label  class="required">Patient Gender:</label>
                      <select name="gender-field" id="gender-field" class="form-control">
                          <option selected disabled value="">-------</option>
                          <option value="male">Male</option>
                          <option value="female">Female</option>
                          <option value="transgender male">Transgender Male</option>
                          <option value="transgender female">Transgender Female</option>
                      </select>
                            <div class="genderfield-message">
                             <p>Select gender.</p>
                            </div>
                    </div>
        </div>


         <div class="form-group">
         <label  class="required">Subtype:</label>
             <input name="sarcoma" class="form-control" id="subtype-field">
{#            <select name="sarcoma" class="select2 form-control" id="subtype-field">#}
{#                  <option value="" disabled selected>select sub type</option>#}
{#                  {% for key, value in sarcoma %}#}
{#                      <option value="{{ key }}">{{ value }}</option>#}
{#                  {% endfor %}#}
{#            </select>#}
                            <div class="subtypefield-message">
                             <p>This field is required.</p>
                            </div>
                <div class="form-group others">
                  <input id="other-sarcoma-field" name="other-sarcoma" class="form-control" placeholder="Enter Sub type here "  >
                </div>
        </div>

        <div class="form-group">
          <label  class="required">Case Details:</label>
          <textarea name="details" id="details" class="form-control editor" rows="7" cols="73"  placeholder="Enter Case details here"></textarea>
                        <div class="detail-message">
                             <p>This field is required.</p>
                            </div>
        </div>
</div>
<script>
    $('body').on('focusin','#subtype-field',function() {
        $(this).autocomplete({
            source: {{ sarcoma|safe }},
            minLength: 2,
        })

    })

    $( "#subtype-field" ).on( "autocompleteselect", function( event, ui ) {
    value = ui.item.value.split(",");
        if (value == "Other") {
               $(".others").show();
                $("#other-sarcoma").prop('required',true);
            } else {
               $(".others").hide();
           }
    } );
</script>