<script src="{{STATIC_URL}}js/manual_form.js" ></script>
<script src="{{STATIC_URL}}js/free-text.js" xmlns="http://www.w3.org/1999/html"></script>


<div class="manual-form">
    <h4 class="title-name">Diagnosis/Presentation</h4>
        <div class="row">
                    <div class="form-group col-xs-2">
                        <label for="age" class="required">Age</label>
                        <input type="text" name="age" id="age" class="form-control">
                        <div class="age-message">
                                <p>This field is required.</p>
                        </div>
                    </div>

                    <div class="form-group col-md-2 col-xs-2">
                      <label for="gender" class="required">Gender</label>
                      <select name="gender" class="form-control" id="gender">
                          <option selected disabled value=""></option>
                          <option value="male">Male</option>
                          <option value="female">Female</option>
                          <option value="transgender_male">Transgender Male</option>
                          <option value="transgender_female">Transgender Female</option>
                          <option value="other">Other</option>
                      </select>
                             <div class="gender-message">
                             <p>Select gender.</p>
                            </div>
                    </div>
                    
                    <div class="form-group col-md-8 col-xs-8">
                        <label class="required" for="subtype"> Subtype:</label>
                           <select name="subtype" class=" form-control" id="subtype">
                                 <option value="">select sub type</option>
                                 {% for key, value in sarcoma %}
                                     <option value="{{ key }}">{{ value }}</option>
                                 {% endfor %}
                           </select>
                       <div class="subtype-message">
                        <p>This field is required.</p>
                       </div>
                       <div class="form-group others">
                         <input id="other-sarcoma" name="other-sarcoma" class="form-control">
                       </div>
                   </div>
        </div>


     <div class="form-group">
         <label class="required" for="presentation">Presentation</label>
         <textarea name="presentation" class="form-control editor" rows="2" cols="73" id="presentation"></textarea>
         <div class="helpText">
             Observed condition, previous treatments, co-morbidities, etc.<br />
             Separate with line breaks
         </div>
         <div class="pathology-message">
             <p>This field is required.</p>
        </div>
     </div>

    <div class="molecular-abberations">
        <h4><label for="aberrations">Genetic Aberrations</label></h4>
            <select name="aberrations" class="form-control" id="aberrations" multiple size="5">
                {% for key, value in aberrations %}
                    <option value="{{ key }}">{{ value }}</option>
                {% endfor %}
            </select>
        <div class="form-group">
            <label for="aberrations">Other</label>
            <input type="text" name="aberrations_other" id="aberrations_other" class="form-control">
        </div>
    </div>

   <div>
       <h4><label for="biomarkers">Biomarkers</label></h4>
       <textarea name="biomarkers" id="biomarkers" rows="4" cols="73" class="form-control editor"></textarea>
       <div class="helpText">
           Separate with commas
       </div>
   </div>
   
   <div class="form-group">
       <h4><label for="pathology" class="required">Pathology/Tests</label></h4>
       <textarea name="pathology" class="form-control editor" rows="4" cols="73" id="pathology"></textarea>
       <div class="helpText">
           Test results (e.g., biopsy, scans, immunohistochemistry): tumor size, location, physical description, stage<br />
           Separate with line breaks
       </div>
       <div class="pathology-message">
           <p>This field is required.</p>
      </div>
   </div>

     <div class="treatment-section-form"><!--treatment-section start -->
        <h4>Treatment/Outcome</h4>
        <div class="form-group row">
          <div class="col-md-6 col-xs-12">
              <label for="treatment_name_0">Treatment Name</label>
              <input id="treatment_name_0" name="treatment_name" class="form-control treatment_name">
              
              <label for="treatment_duration_0">Dates/Duration</label>
              <input id="treatment_duration_0" name="treatment_duration" class="form-control treatment_name">
              
              <label for="treatment_type_0">Treatment Type</label>
              <select id="treatment_type_0" name="treatment_type" class="form-control treatment_type">
                  <option value="" selected></option>
                  <option value="Chemoradiotherapy">Chemoradiotherapy</option>
                  <option value="Chemotherapy">Chemotherapy</option>
                  <option value="Immunotherapy">Immunotherapy</option>
                  <option value="Radiotherapy">Radiotherapy</option>
                  <option value="Surgery">Surgery</option>
                  <option value="Systemic Therapy">Systemic Therapy</option>
                  <option value="Targeted Therapy">Targeted Therapy</option>
              </select>
              
              <label for="treatment_intent_0">Treatment Intent</label>
              <select id="treatment_intent_0" name="treatment_intent" class="form-control">
                  <option value="" selected></option>
                  <option value="Neoadjuvant">Neoadjuvant</option>
                  <option value="Adjuvant">Adjuvant</option>
                  <option value="Metastatic/Advanced">Metastatic/Advanced</option>
                  <option value="Palliative">Palliative</option>
              </select>
              
              <label for="treatment_response_0">Objective Response</label>
              <select id="treatment_response_0" name="treatment_response" class="form-control">
                  <option value="" selected></option>
                  <option value="Complete Response">Complete Response</option>
                  <option value="Partial Response">Partial Response</option>
                  <option value="No Response">No Response</option>
                  <option value="Diseage Progression">Diseage Progression</option>
              </select>
              
              <label for="treatment_status_0">Performance Status</label>
              <select id="treatment_status_0" name="treatment_status" class="form-control">
                  <option value="" selected></option>
                  <option value="0">0</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
              </select>
          </div>
          <div class="col-md-6 col-xs-12">
              <label for="treatment_outcome_0">Treatment Details, Outcomes, Notes</label>
              <textarea name="treatment_outcome" class="form-control editor" rows="19" id="treatment_outcome_0"></textarea>
              <div class="helpText">E.g., dose/cycle, response, tumor size post-trmt, time to progression, adverse events</div>
         </div>
        </div>
        
     </div><!--treatment-section end -->
     <a class="add_treatment" href="#"><i class="fa fa-plus"></i> Add another treatment</a>

    <div class="form-group">
      <h4><label for="additional_comment">Additional comments</label></h4>
      <textarea name="additional_comment" class="form-control editor" rows="5" cols="73" id="additional_comment"></textarea>
    </div>

    <h4>Attachments</h4>
    <div class="attachments-div">

        <div class="attachment row"><div class="col-md-11">
            <div class="figure">Fig 1</div>
            <div class="form-control">
                <input type="file" name="attachment1" id="attachment1" onchange="checkfile(this);">
            </div>
            <div class="helpText">JPG, PDF, PNG, TIFF file types; max file size 2MB; minimum width 770px
                                  <br/>Be sure to explicitly cite this figure's name in relevant text above</div>

            <label for="attachment1_title">Title</label>
            <input id="attachment1_title" name="attachment1_title" class="form-control attachment1_title">

            <label for="attachment1_description">Description</label>
            <textarea id="attachment1_description" name="attachment1_description"
                      rows="4" cols="73" class="form-control attachment1_description editor"></textarea>
        </div><div class="col-md-1"></div></div>

    </div>

    <a class="add_att_button" href="#"><i class="fa fa-plus"></i> <span class="add_att_button_text">Add another attachment</a></a>

</div>

<div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content">
      ...
    </div>
  </div>
</div>

<script>
    $('body').on('focusin','#subtype',function() {
        $(this).autocomplete({
            source: {{ sarcoma|safe }},
            minLength: 2,

        })
    });

 $( "#subtype" ).on( "autocompleteselect", function( event, ui ) {
    value = ui.item.value.split(",");
        if (value == "Other") {
               $(".others").show();
                $("#other-sarcoma").prop('required',true);
            } else {
               $(".others").hide();
           }
    } );

</script>

