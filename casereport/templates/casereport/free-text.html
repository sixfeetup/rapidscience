<script src="{{STATIC_URL}}js/free-text.js" ></script>
{#<script src="{{STATIC_URL}}js/manual_form.js" xmlns="http://www.w3.org/1999/html"></script>#}



<div class="free-text">
    <h4 class="title-name">Diagnosis</h4>
        <div class="row">
            <div class="form-group col-xs-2">
                <label for="age" class="required">Age</label>
                <input type="text" name="age" id="age" class="form-control">
                <div class="age-message">
                        <p>This field is required.</p>
                </div>
            </div>

            <div class="form-group col-md-2 col-xs-2">
              <label for="gender" class="required">Gender</label>
              <select name="gender" class="form-control" id="gender">
                  <option selected disabled value=""></option>
                  <option value="male">M</option>
                  <option value="female">F</option>
                  <option value="other">Other</option>
              </select>
                     <div class="gender-message">
                     <p>Select gender.</p>
                    </div>
            </div>
            
            <div class="form-group col-md-8 col-xs-8">
                <label class="required" for="subtype"> Subtype:</label>
                <input name="sarcoma" class="form-control" id="subtype">
       {#            <select name="sarcoma" class=" form-control" id="subtype">#}
       {#                  <option value="">select sub type</option>#}
       {#                  {% for key, value in sarcoma %}#}
       {#                      <option value="{{ key }}">{{ value }}</option>#}
       {#                  {% endfor %}#}
       {#            </select>#}
               <div class="subtype-message">
                <p>This field is required.</p>
               </div>
               <div class="form-group others">
                 <input id="other-sarcoma" name="other-sarcoma" class="form-control">
               </div>
           </div>
        </div>

        <div class="form-group">
          <label for="details" class="required">Case Details:</label>
          <textarea name="details" id="details" class="form-control editor" rows="15" cols="73"></textarea>
          <div class="helpText">Include presentation, pathology, treatments, outcome, objective response</div>
            <div class="detail-message">
                <p>This field is required.</p>
            </div>
        </div>
</div>
<script>
    $('body').on('focusin','#subtype-field',function() {
        $(this).autocomplete({
            source: {{ sarcoma|safe }},
            minLength: 2,
        })

    })

    $( "#subtype-field" ).on( "autocompleteselect", function( event, ui ) {
    value = ui.item.value.split(",");
        if (value == "Other") {
               $(".others").show();
                $("#other-sarcoma").prop('required',true);
            } else {
               $(".others").hide();
           }
    } );
</script>